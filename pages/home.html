<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤</title>
  <link rel="stylesheet" href="../css/reset.css" />
  <link rel="stylesheet" href="../css/main.css" />
  <link rel="stylesheet" href="../css/home.css" />
  <link rel="stylesheet" href="../css/dark-theme.css" />
  <script src="../js/theme.js"></script>
  <script type="module" defer src="../js/search.js"></script>
</head>
<body style="display:flex; flex-direction:column; min-height:100vh;">
  <header class="site-header">
    <div class="container header-inner">
      <h1 class="site-title">–ö–∏–Ω–æ–ü–æ–∏—Å–∫–û–í–ò–ö</h1>
      <nav class="main-nav">
        <div class="profile-area">
          <img id="avatar-btn" src="../assets/icons/user.svg" alt="–ü—Ä–æ—Ñ–∏–ª—å" class="avatar" />
          <span class="profile-text">–ü—Ä–æ—Ñ–∏–ª—å</span>
        </div>
      </nav>
    </div>
  </header>

  <main class="main-content" style="flex:1;">
    <div class="search-layout">

      <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
      <aside class="filters-panel">
        <h3>–§–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞</h3>
        <div class="filter-group">
          <label for="filter-title">–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞</label>
          <input id="filter-title" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ..." />
        </div>
        <div class="filter-group">
          <label for="filter-rating">–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞</label>
          <input id="filter-rating" type="number" min="0" max="10" step="0.1" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 5.0" />
          <small>–ë—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã —Ñ–∏–ª—å–º—ã ¬±1.5 –æ—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–π –æ—Ü–µ–Ω–∫–∏</small>
        </div>
        <div class="filter-group">
          <label>–ñ–∞–Ω—Ä—ã</label>
          <div class="genres-list">
            <label class="genre-item"><input type="checkbox" value="Action" /><span>–≠–∫—à–Ω</span></label>
            <label class="genre-item"><input type="checkbox" value="Adventure" /><span>–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è</span></label>
            <label class="genre-item"><input type="checkbox" value="Comedy" /><span>–ö–æ–º–µ–¥–∏—è</span></label>
            <label class="genre-item"><input type="checkbox" value="Crime" /><span>–ö—Ä–∏–º–∏–Ω–∞–ª</span></label>
            <label class="genre-item"><input type="checkbox" value="Drama" /><span>–î—Ä–∞–º–∞</span></label>
            <label class="genre-item"><input type="checkbox" value="Fantasy" /><span>–§—ç–Ω—Ç–µ–∑–∏</span></label>
            <label class="genre-item"><input type="checkbox" value="Horror" /><span>–£–∂–∞—Å—ã</span></label>
            <label class="genre-item"><input type="checkbox" value="Romance" /><span>–†–æ–º–∞–Ω—Ç–∏–∫–∞</span></label>
            <label class="genre-item"><input type="checkbox" value="Sci-Fi" /><span>–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞</span></label>
            <label class="genre-item"><input type="checkbox" value="Thriller" /><span>–¢—Ä–∏–ª–ª–µ—Ä</span></label>
          </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –ø–æ–∏—Å–∫–∞ -->
        <button id="search-btn" class="btn-search">üîç –ü–æ–∏—Å–∫</button>

        <!-- –ö–Ω–æ–ø–∫–∞ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ñ–∏–ª—å–º–∞ -->
        <button id="random-btn" class="btn-random">üé≤ –°–ª—É—á–∞–π–Ω—ã–π —Ñ–∏–ª—å–º</button>

        <!-- –ö–Ω–æ–ø–∫–∞ —Ç–æ–ø–∞ -->
        <a href="top.html" class="btn-top-link">üèÜ –¢–æ–ø —Ñ–∏–ª—å–º–æ–≤</a>
      </aside>

      <!-- –¶–µ–Ω—Ç—Ä -->
      <section class="search-section">
        <h2 class="section-title">–§–ò–õ–¨–ú–´</h2>
        <div id="search-status" class="status">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤</div>
        <div id="search-results" class="results-grid"></div>
      </section>

      <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å -->
      <aside class="right-panel">
        <div class="right-panel-title">üì¢ –†–µ–∫–ª–∞–º–∞</div>
        <div class="ad-scroll-container">
          <div class="ad-scroll-text">
            <div class="ad-item">
              <div class="ad-icon">üé¨</div>
              <p>–¢—É—Ç –º–æ–≥–ª–∞ –±—ã—Ç—å –≤–∞—à–∞ —Ä–µ–∫–ª–∞–º–∞</p>
              <p class="ad-sub">–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏</p>
            </div>
            <div class="ad-item">
              <div class="ad-icon">üçø</div>
              <p>–ü—Ä–æ–¥–≤–∏–≥–∞–π—Ç–µ –≤–∞—à –ø—Ä–æ–¥—É–∫—Ç –∑–¥–µ—Å—å</p>
              <p class="ad-sub">–õ—É—á—à–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è –∫–∏–Ω–æ–ª—é–±–∏—Ç–µ–ª–µ–π</p>
            </div>
            <div class="ad-item">
              <div class="ad-icon">‚≠ê</div>
              <p>–í–∞—à –±—Ä–µ–Ω–¥ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ</p>
              <p class="ad-sub">–í—ã–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è</p>
            </div>
            <div class="ad-item">
              <div class="ad-icon">üé•</div>
              <p>–¢—É—Ç –º–æ–≥–ª–∞ –±—ã—Ç—å –≤–∞—à–∞ —Ä–µ–∫–ª–∞–º–∞</p>
              <p class="ad-sub">–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏</p>
            </div>
          </div>
        </div>
      </aside>

    </div>
  </main>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ñ–∏–ª—å–º–∞ -->
  <div id="random-modal" class="random-modal hidden">
    <div class="random-modal-inner">
      <button id="random-close" class="random-close">‚úï</button>
      <div id="random-loading" class="random-loading">
        <div class="random-spinner">üé≤</div>
        <p>–ò—â–µ–º —Ñ–∏–ª—å–º –¥–ª—è –≤–∞—Å...</p>
      </div>
      <div id="random-content" class="random-content hidden">
        <div class="random-poster-wrap">
          <img id="random-poster" src="" alt="–ü–æ—Å—Ç–µ—Ä" />
        </div>
        <div class="random-info">
          <h3 id="random-title"></h3>
          <div class="random-meta">
            <span id="random-year"></span>
            <span id="random-genre"></span>
            <span id="random-rating" class="random-rating-badge"></span>
          </div>
          <p id="random-plot"></p>
          <div class="random-buttons">
            <button id="random-open-btn" class="random-open">üé¨ –û—Ç–∫—Ä—ã—Ç—å —Ñ–∏–ª—å–º</button>
            <button id="random-again-btn" class="random-again">üé≤ –î—Ä—É–≥–æ–π —Ñ–∏–ª—å–º</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <div class="container">
      <p>¬© 2026 –ö–∏–Ω–æ–ü–æ–∏—Å–∫–û–í–ò–ö. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </div>
  </footer>

  <script>
    document.getElementById('avatar-btn').addEventListener('click', () => {
      window.location.href = 'profile.html';
    });
    document.querySelector('.profile-text').addEventListener('click', () => {
      window.location.href = 'profile.html';
    });

    // –°–ø–∏—Å–æ–∫ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤ –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
    const randomMovies = [
      'tt1375666', // –ù–∞—á–∞–ª–æ
      'tt0468569', // –¢—ë–º–Ω—ã–π —Ä—ã—Ü–∞—Ä—å
      'tt0816692', // –ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä
      'tt0133093', // –ú–∞—Ç—Ä–∏—Ü–∞
      'tt0110912', // –ö—Ä–∏–º–∏–Ω–∞–ª—å–Ω–æ–µ —á—Ç–∏–≤–æ
      'tt0137523', // –ë–æ–π—Ü–æ–≤—Å–∫–∏–π –∫–ª—É–±
      'tt0109830', // –§–æ—Ä—Ä–µ—Å—Ç –ì–∞–º–ø
      'tt0111161', // –ü–æ–±–µ–≥ –∏–∑ –®–æ—É—à–µ–Ω–∫–∞
      'tt0172495', // –ì–ª–∞–¥–∏–∞—Ç–æ—Ä
      'tt0068646', // –ö—Ä—ë—Å—Ç–Ω—ã–π –æ—Ç–µ—Ü
      'tt0071562', // –ö—Ä—ë—Å—Ç–Ω—ã–π –æ—Ç–µ—Ü 2
      'tt0050083', // 12 —Ä–∞–∑–≥–Ω–µ–≤–∞–Ω–Ω—ã—Ö –º—É–∂—á–∏–Ω
      'tt0108052', // –°–ø–∏—Å–æ–∫ –®–∏–Ω–¥–ª–µ—Ä–∞
      'tt0167260', // –í–ª–∞—Å—Ç–µ–ª–∏–Ω –∫–æ–ª–µ—Ü: –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ—Ä–æ–ª—è
      'tt0120737', // –í–ª–∞—Å—Ç–µ–ª–∏–Ω –∫–æ–ª–µ—Ü: –ë—Ä–∞—Ç—Å—Ç–≤–æ –∫–æ–ª—å—Ü–∞
      'tt0080684', // –ó–≤—ë–∑–¥–Ω—ã–µ –≤–æ–π–Ω—ã: –ò–º–ø–µ—Ä–∏—è –Ω–∞–Ω–æ—Å–∏—Ç –æ—Ç–≤–µ—Ç–Ω—ã–π —É–¥–∞—Ä
      'tt0245429', // –£–Ω–µ—Å—ë–Ω–Ω—ã–µ –ø—Ä–∏–∑—Ä–∞–∫–∞–º–∏
      'tt0317248', // –ì–æ—Ä–æ–¥ –ë–æ–≥–∞
      'tt0114369', // –°–µ–º—å
      'tt0120689', // –ó–µ–ª—ë–Ω–∞—è –º–∏–ª—è
      'tt0102926', // –ú–æ–ª—á–∞–Ω–∏–µ —è–≥–Ω—è—Ç
      'tt0118799', // –ñ–∏–∑–Ω—å –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞
      'tt0076759', // –ó–≤—ë–∑–¥–Ω—ã–µ –≤–æ–π–Ω—ã
      'tt0088763', // –ù–∞–∑–∞–¥ –≤ –±—É–¥—É—â–µ–µ
      'tt0073195', // –ß–µ–ª—é—Å—Ç–∏
      'tt0082971', // –ò–Ω–¥–∏–∞–Ω–∞ –î–∂–æ–Ω—Å
      'tt0105236', // –ë–µ—à–µ–Ω—ã–µ –ø—Å—ã
      'tt0482571', // –ü—Ä–µ—Å—Ç–∏–∂
      'tt1853728', // –î–∂–∞–Ω–≥–æ –æ—Å–≤–æ–±–æ–∂–¥—ë–Ω–Ω—ã–π
      'tt2015381', // –°—Ç—Ä–∞–∂–∏ –≥–∞–ª–∞–∫—Ç–∏–∫–∏
      'tt0209144', // –í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ–± —É–±–∏–π—Å—Ç–≤–µ
      'tt0361748', // –ë–µ—Å—Å–ª–∞–≤–Ω—ã–µ —É–±–ª—é–¥–∫–∏
      'tt1345836', // –¢—ë–º–Ω—ã–π —Ä—ã—Ü–∞—Ä—å: –í–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ
      'tt0364569', // –û–ª–¥–±–æ–π
      'tt0405094', // –ñ–∏–∑–Ω—å –¥—Ä—É–≥–∏—Ö
      'tt0119217', // –£–º–Ω–∏—Ü–∞ –£–∏–ª–ª –•–∞–Ω—Ç–∏–Ω–≥
      'tt0986264', // –†–µ–∫–≤–∏–µ–º –ø–æ –º–µ—á—Ç–µ
      'tt0910970', // –í–ê–õ–õ-–ò
      'tt0435761', // –ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä—É—à–µ–∫ 3
      'tt2096673', // –ì–æ–ª–æ–≤–æ–ª–æ–º–∫–∞
    ];

    let currentRandomId = null;

    const modal = document.getElementById('random-modal');
    const loading = document.getElementById('random-loading');
    const content = document.getElementById('random-content');

    async function fetchRandomMovie() {
      loading.classList.remove('hidden');
      content.classList.add('hidden');

      const id = randomMovies[Math.floor(Math.random() * randomMovies.length)];
      currentRandomId = id;

      try {
        const res = await fetch(`https://www.omdbapi.com/?apikey=trilogy&i=${id}&plot=short`);
        const data = await res.json();

        if (data.Response === 'True') {
          document.getElementById('random-poster').src = data.Poster !== 'N/A' ? data.Poster : '../assets/icons/user.svg';
          document.getElementById('random-title').textContent = data.Title;
          document.getElementById('random-year').textContent = 'üìÖ ' + data.Year;
          document.getElementById('random-genre').textContent = 'üé¨ ' + data.Genre;
          document.getElementById('random-rating').textContent = '‚≠ê ' + data.imdbRating + ' / 10';
          document.getElementById('random-plot').textContent = data.Plot;

          loading.classList.add('hidden');
          content.classList.remove('hidden');
        } else {
          fetchRandomMovie();
        }
      } catch {
        fetchRandomMovie();
      }
    }

    document.getElementById('random-btn').addEventListener('click', () => {
      modal.classList.remove('hidden');
      fetchRandomMovie();
    });

    document.getElementById('random-close').addEventListener('click', () => {
      modal.classList.add('hidden');
    });

    document.getElementById('random-again-btn').addEventListener('click', () => {
      fetchRandomMovie();
    });

    document.getElementById('random-open-btn').addEventListener('click', () => {
      window.location.href = `movie.html?imdbID=${currentRandomId}`;
    });

    modal.addEventListener('click', (e) => {
      if (e.target === modal) modal.classList.add('hidden');
    });
  </script>
</body>
</html>